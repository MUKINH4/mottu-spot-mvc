<div th:fragment="patioCard(patio)" th:object="${patio}"
     class="card shadow-lg bg-white rounded-lg p-4 hover:scale-105 transition cursor-pointer" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <div class="flex justify-between">
        <div>
            <h3 class="font-bold text-lg text-green-700" th:text="*{nome}"></h3>
            <p class="text-gray-500 mt-2" th:text="*{endereco.logradouro} + ', ' + *{endereco.numero}"></p>
        </div>
        <div>
            <span th:text="*{motos.size()} + '/' + *{lotacao}"></span>
        </div>
    </div>

    <div class="mt-3 flex gap-2">
        <!-- Botões condicionais para ADMIN apenas -->
        <div sec:authorize="hasRole('ADMIN')" class="flex gap-2">
            <a th:href="@{/patios/edit/{id}(id=${patio.id})}" class="btn btn-sm btn-warning">Editar</a>
            <a th:href="@{/patios/delete/{id}(id=${patio.id})}"
               class="btn btn-sm btn-danger"
               onclick="return confirm('Tem certeza que deseja excluir este pátio?')">Excluir</a>
        </div>

        <!-- Link acessar pátio disponível para todos -->
        <div>
            <a th:href="@{/patios/{id}(id=*{id})}" class="btn btn-sm btn-primary">Acessar Pátio</a>
        </div>
    </div>
</div>
